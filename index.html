<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Relate by jakelazaroff</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Relate</h1>
      <h2 class="project-tagline">Relate is a tiny client-side relational datastore.</h2>
      <a href="https://github.com/jakelazaroff/relate" class="btn">View on GitHub</a>
      <a href="https://github.com/jakelazaroff/relate/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/jakelazaroff/relate/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="relate" class="anchor" href="#relate" aria-hidden="true"><span class="octicon octicon-link"></span></a>Relate</h1>

<p><a href="http://badge.fury.io/bo/relate"><img src="https://badge.fury.io/bo/relate.svg" alt="Bower version"></a></p>

<p><strong>Relate</strong> is a tiny client-side relational datastore. It's useful for web applications with static relational data, allowing you to import JSON data, create collections of objects, define relations between them, and easily traverse the relationship graph from your application code. <strong>Relate</strong> is lightweight, dependency-free and framework-agnostic, easily compatible with applications built with Angular, React and more.</p>

<p>Note that while objects and their relationships can be modified, <strong>Relate</strong> works best with a predefined dataset that doesn't change during an application's runtime. If your application involves changing data, consider a more robust relational framework such as <a href="http://backbonejs.org">Backbone</a> paired with <a href="http://backbonerelational.org">Backbone-relational</a>.</p>

<h2>
<a id="dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dependencies</h2>

<p>None! <img class="emoji" title=":tada:" alt=":tada:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f389.png" height="20" width="20" align="absmiddle"></p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Install manually: just copy <code>src/relate.js</code> wherever you'd like.</p>

<p>Install using Bower:</p>

<pre><code>bower install --save relate
</code></pre>

<p>Load in a browser:</p>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>relate.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</pre></div>

<p>Load using Node.js</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> Relate <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>Relate<span class="pl-pds">'</span></span>);</pre></div>

<p>Load using AMD:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c1">require</span>([<span class="pl-s"><span class="pl-pds">'</span>Relate<span class="pl-pds">'</span></span>], <span class="pl-k">function</span> (<span class="pl-smi">Relate</span>) {
  <span class="pl-c">// ...</span>
});</pre></div>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<p>Let's build a music application. The two types of items in our application are <strong>artists</strong> and <strong>songs</strong>. Artists can have any number of songs, but songs can only belong to one artist.</p>

<p>Based on these requirements, our dataset might look something like this:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> dataset <span class="pl-k">=</span> {
  artists<span class="pl-k">:</span> [
    {
      id<span class="pl-k">:</span> <span class="pl-c1">1</span>,
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Turnover<span class="pl-pds">'</span></span>,
      songs<span class="pl-k">:</span> [<span class="pl-c1">1</span>, <span class="pl-c1">2</span>]
    },
    {
      id<span class="pl-k">:</span> <span class="pl-c1">2</span>,
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Vinyl Theatre<span class="pl-pds">'</span></span>,
      songs<span class="pl-k">:</span> [<span class="pl-c1">3</span>, <span class="pl-c1">4</span>]
    }
  ],
  songs<span class="pl-k">:</span> [
    {
      id<span class="pl-k">:</span> <span class="pl-c1">1</span>,
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Most Of The Time<span class="pl-pds">'</span></span>,
      artists<span class="pl-k">:</span> <span class="pl-c1">1</span>
    },
    {
      id<span class="pl-k">:</span> <span class="pl-c1">2</span>,
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>New Scream<span class="pl-pds">'</span></span>,
      artists<span class="pl-k">:</span> <span class="pl-c1">1</span>
    },
    {
      id<span class="pl-k">:</span> <span class="pl-c1">3</span>,
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Breaking Up My Bones<span class="pl-pds">'</span></span>,
      artists<span class="pl-k">:</span> <span class="pl-c1">2</span>
    },
    {
      id<span class="pl-k">:</span> <span class="pl-c1">4</span>,
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Shaking In The Dead Of Night<span class="pl-pds">'</span></span>,
      artists<span class="pl-k">:</span> <span class="pl-c1">2</span>
    }
  ]
};</pre></div>

<h3>
<a id="importing" class="anchor" href="#importing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Importing</h3>

<p>To get this dataset ready to use, all we need is to import it into Relate:</p>

<div class="highlight highlight-javascript"><pre>Relate.import(dataset);</pre></div>

<p>That's it! Relate can now traverse our entire dataset. If we wanted to display the name of the artist of a song with a certain ID:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> id <span class="pl-k">=</span> <span class="pl-c1">1</span>;
Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).get(id).get(<span class="pl-s"><span class="pl-pds">'</span>artists<span class="pl-pds">'</span></span>).get(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>);</pre></div>

<p>For each root-level key (in this example, <code>artists</code> and <code>songs</code>), <code>Relate.import</code> creates a collection in the dataset. Passing this key to <code>Relate.collection</code> returns the collection instance.</p>

<p>The value of each collection key must be an array that contains the collection items. Each item must have a property <code>id</code> with a value unique within the collection (so there could be an item in <code>songs</code> and <code>artists</code> with an <code>id</code> of <code>1</code>, but not two items in <code>artists</code>). Passing an <code>id</code> to <code>Collection.get</code> returns the item with that ID in that collection.</p>

<p>Each item has a method <code>get</code> that will return either the value of the property passed, or the related item from its collection. Calling <code>get('artists')</code> on a song will return its related artist, while calling <code>get('name')</code> on that artist will return its name.</p>

<p>If one of the Item methods already exists as a property on your items, it'll be overwritten. To prevent this, you can set <code>Relate.Item.prefix</code>. Relate will create that property on each item and mix the methods in there.</p>

<div class="highlight highlight-javascript"><pre>Relate.<span class="pl-c1">prefix</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>relate<span class="pl-pds">'</span></span>;</pre></div>

<p>With this prefix, the code to get the artist name of a specific song becomes:</p>

<div class="highlight highlight-javascript"><pre>Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).get(<span class="pl-c1">1</span>).relate.get(<span class="pl-s"><span class="pl-pds">'</span>artist<span class="pl-pds">'</span></span>).relate.get(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>);</pre></div>

<p>If a prefix is set, it must be set before a dataset is imported.</p>

<p>That's not all, though. Relate has a couple more tricks up its sleeve.</p>

<h3>
<a id="maps" class="anchor" href="#maps" aria-hidden="true"><span class="octicon octicon-link"></span></a>Maps</h3>

<p>You might have noticed that in the last example, we called <code>get('artists')</code> on the song, even though each song can only have one artist. Relate lets you map keys on an item to collections:</p>

<div class="highlight highlight-javascript"><pre>Relate.map.songs <span class="pl-k">=</span> {artist<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>artists<span class="pl-pds">'</span></span>};</pre></div>

<p>The mapped key must also replace the original in the dataset:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> dataset <span class="pl-k">=</span> {
  artists<span class="pl-k">:</span> [
    <span class="pl-c">// ...</span>
  ],
  songs<span class="pl-k">:</span> [
    {
      id<span class="pl-k">:</span> <span class="pl-c1">1</span>,
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Most Of The Time<span class="pl-pds">'</span></span>,
      artist<span class="pl-k">:</span> <span class="pl-c1">1</span>
    },
    {
      id<span class="pl-k">:</span> <span class="pl-c1">2</span>,
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>New Scream<span class="pl-pds">'</span></span>,
      artist<span class="pl-k">:</span> <span class="pl-c1">1</span>
    },
    {
      id<span class="pl-k">:</span> <span class="pl-c1">3</span>,
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Breaking Up My Bones<span class="pl-pds">'</span></span>,
      artist<span class="pl-k">:</span> <span class="pl-c1">2</span>
    },
    {
      id<span class="pl-k">:</span> <span class="pl-c1">4</span>,
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Shaking In The Dead Of Night<span class="pl-pds">'</span></span>,
      artist<span class="pl-k">:</span> <span class="pl-c1">2</span>
    }
  ]
};</pre></div>

<p>Each property of <code>Relate.map</code> corresponds to the name of a collection, and each value is a map between the a property of the items in that collection and the collection they relate to.</p>

<p>With this map applied, the code to get the artist name of a specific song becomes:</p>

<div class="highlight highlight-javascript"><pre>Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).get(<span class="pl-c1">1</span>).get(<span class="pl-s"><span class="pl-pds">'</span>artist<span class="pl-pds">'</span></span>).get(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>);</pre></div>

<p><code>get('artists')</code> is now <code>get('artist')</code>, matching the relationship between the two items.</p>

<p>Maps must be defined before a dataset is imported.</p>

<h3>
<a id="transforms" class="anchor" href="#transforms" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transforms</h3>

<p>By default, items are just objects with a few Relate methods (such as <code>get</code>) mixed in, but we may want to treat each item as a model and give it additional functionality. For example, if we wanted to add a player to our app, we would probably add a <code>play</code> method to our song items. We can do this using transforms:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">function</span> <span class="pl-en">Song</span> (<span class="pl-smi">properties</span>) { <span class="pl-c">/* ... */</span> }
<span class="pl-c1">Song</span>.<span class="pl-c1">prototype</span>.<span class="pl-en">play</span> <span class="pl-k">=</span> <span class="pl-k">function</span> () { <span class="pl-c">/* ... */</span> };

<span class="pl-c1">Relate.transform</span>.<span class="pl-en">songs</span> <span class="pl-k">=</span> <span class="pl-k">function</span> (<span class="pl-smi">item</span>) {
  <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Song</span>(item);
};</pre></div>

<p>Each property of <code>Relate.transform</code> corresponds to the name of a collection, and each value is a function that takes the item data and must return an item to be added in the collection. If the transform instantiates an object using the item data, it's usually a good idea to copy the item data to the new object, and the returned item <strong>must</strong> retain its <code>id</code> property.</p>

<p>To play a song after applying this transform:</p>

<div class="highlight highlight-javascript"><pre>Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).get(<span class="pl-c1">1</span>).play();</pre></div>

<p>Relate methods are mixed in after the transformation is applied, so unless a prefix is used, property names matching methods on the items will be overwritten.</p>

<p>To apply a transform to every collection, you can assign a function to <code>Relate.defaultTransform</code> instead of <code>Relate.transform</code>:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">function</span> <span class="pl-en">Model</span> (<span class="pl-smi">properties</span>) { <span class="pl-c">/* ... */</span> }

<span class="pl-c1">Relate</span>.<span class="pl-en">defaultTransform</span> <span class="pl-k">=</span> <span class="pl-k">function</span> (<span class="pl-smi">item</span>) {
  <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Model</span>(item);
};</pre></div>

<p>You can define both a default transform and a transform for specific collections simultaneously; if a collection has its own transform, it will be used instead of the default.</p>

<p>Like maps, transforms must also be defined before a dataset is imported.</p>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h2>

<h3>
<a id="relate-1" class="anchor" href="#relate-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Relate</h3>

<h4>
<a id="importdata" class="anchor" href="#importdata" aria-hidden="true"><span class="octicon octicon-link"></span></a>.import(data)</h4>

<p>Takes an object and populates the Relate datastore. The root object's properties are used as the collection names; its values are arrays of objects used as collection items. Each item must have an attribute <code>id</code> unique within its collection.</p>

<div class="highlight highlight-javascript"><pre>Relate.import({
  artists<span class="pl-k">:</span> [
    {
      id<span class="pl-k">:</span> <span class="pl-c1">1</span>,
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Turnover<span class="pl-pds">'</span></span>,
      songs<span class="pl-k">:</span> [<span class="pl-c1">1</span>, <span class="pl-c1">2</span>]
    }
  ],
  songs<span class="pl-k">:</span> [
    {
      id<span class="pl-k">:</span> <span class="pl-c1">1</span>,
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Most Of The Time<span class="pl-pds">'</span></span>,
      artist<span class="pl-k">:</span> <span class="pl-c1">1</span>
    },
    {
      id<span class="pl-k">:</span> <span class="pl-c1">2</span>,
      name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>New Scream<span class="pl-pds">'</span></span>,
      artist<span class="pl-k">:</span> <span class="pl-c1">1</span>
    }
  ]
});</pre></div>

<h4>
<a id="collectionname" class="anchor" href="#collectionname" aria-hidden="true"><span class="octicon octicon-link"></span></a>.collection(name)</h4>

<p>Returns the collection named <code>name</code>, or throws an error if it doesn't exist.</p>

<div class="highlight highlight-javascript"><pre>Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>artists<span class="pl-pds">'</span></span>);
<span class="pl-c">// Relate.Collection {name: "artists", store: Object, add: function…}</span></pre></div>

<h4>
<a id="collectioncreatename-options" class="anchor" href="#collectioncreatename-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>.collection.create(name[, options])</h4>

<p>Creates a collection named <code>name</code> and returns it, or throws an error if a collection with that name already exists.</p>

<ul>
<li>
<strong>transform</strong>: a transformation function executed on each item added to the collection</li>
<li>
<strong>map</strong>: an object mapping properties on the collection's items to other collections</li>
</ul>

<p><img class="emoji" title=":exclamation:" alt=":exclamation:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2757.png" height="20" width="20" align="absmiddle"> <code>Relate.import</code> will create collections automatically.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> <span class="pl-en">Song</span> <span class="pl-k">=</span> <span class="pl-k">function</span> () { <span class="pl-c">/* ... */</span> };

Relate.collection.create(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>, {
  map<span class="pl-k">:</span> { artist<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>artists<span class="pl-pds">'</span></span> },
  <span class="pl-en">transform</span>: <span class="pl-k">function</span> (<span class="pl-smi">item</span>) { <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Artist</span>(item); }
});
<span class="pl-c">// Relate.Collection {name: "songs", store: Object, add: function…}</span></pre></div>

<h4>
<a id="collectionexistsname" class="anchor" href="#collectionexistsname" aria-hidden="true"><span class="octicon octicon-link"></span></a>.collection.exists(name)</h4>

<p>Returns true if a collection named <code>name</code> exists, or false if it doesn't.</p>

<div class="highlight highlight-javascript"><pre>Relate.collection.exists(<span class="pl-s"><span class="pl-pds">'</span>artists<span class="pl-pds">'</span></span>);
<span class="pl-c">// true</span>
Relate.collection.exists(<span class="pl-s"><span class="pl-pds">'</span>labels<span class="pl-pds">'</span></span>);
<span class="pl-c">// false</span></pre></div>

<h4>
<a id="map" class="anchor" href="#map" aria-hidden="true"><span class="octicon octicon-link"></span></a>.map</h4>

<p>An object containing mappings between item properties and collection names. The keys in <code>Relate.map</code> correspond  to collection names. Each property in the collection's map object corresponds to a property on that collection's items, and each value corresponds to the name of the target collection.</p>

<div class="highlight highlight-javascript"><pre>Relate.map.songs <span class="pl-k">=</span> { artist<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>artists<span class="pl-pds">'</span></span> };</pre></div>

<h4>
<a id="noconflict" class="anchor" href="#noconflict" aria-hidden="true"><span class="octicon octicon-link"></span></a>.noConflict()</h4>

<p>If it was set on a global object, restores <code>Relate</code> to its prior value and returns it.</p>

<h4>
<a id="transform" class="anchor" href="#transform" aria-hidden="true"><span class="octicon octicon-link"></span></a>.transform</h4>

<p>An object containing transformation functions executed on each item as it's imported into a collection. The properties in <code>Relate.transform</code> correspond to collection names. The transformation function receives the item's raw properties and the collection to which it will be added, and must return an object to be used as the item.</p>

<p>Transforms must be set before data is imported.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> <span class="pl-en">Artist</span> <span class="pl-k">=</span> <span class="pl-k">function</span> () { <span class="pl-c">/* ... */</span> };

<span class="pl-c1">Relate.transform</span>.<span class="pl-en">artists</span> <span class="pl-k">=</span> <span class="pl-k">function</span> (<span class="pl-smi">item</span>, <span class="pl-smi">collection</span>) { <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Artist</span>(item); };</pre></div>

<h4>
<a id="defaulttransform" class="anchor" href="#defaulttransform" aria-hidden="true"><span class="octicon octicon-link"></span></a>.defaultTransform</h4>

<p>A transformation function executed for every collection, unless that collection has a specific transformation function set in <code>Relate.transform</code>.</p>

<h3>
<a id="collection" class="anchor" href="#collection" aria-hidden="true"><span class="octicon octicon-link"></span></a>Collection</h3>

<h4>
<a id="collectionname-options" class="anchor" href="#collectionname-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Collection(name[, options])</h4>

<p>Creates a collection named <code>name</code> and returns it, or throws an error if a collection with that name already exists.</p>

<ul>
<li>
<strong>transform</strong>: a transformation function executed on each item added to the collection</li>
<li>
<strong>map</strong>: an object mapping properties on the collection's items to other collections</li>
</ul>

<p><img class="emoji" title=":bangbang:" alt=":bangbang:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/203c.png" height="20" width="20" align="absmiddle"> If a collection is created directly using the constructor, other collections and items will not be able to access it. Use <code>Relate.collection.create</code> instead.</p>

<h4>
<a id="additem" class="anchor" href="#additem" aria-hidden="true"><span class="octicon octicon-link"></span></a>.add(item)</h4>

<p>Given an object <code>item</code>, executes the collection's transformation function on it, mixes in the <code>Item</code> methods, adds it to the collection and returns it. If an item with the same ID already exists in the collection, throws an error.</p>

<p><img class="emoji" title=":exclamation:" alt=":exclamation:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2757.png" height="20" width="20" align="absmiddle"> <code>Collection.import</code> will iterate over an array of items and add them automatically.</p>

<div class="highlight highlight-javascript"><pre>Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>artists<span class="pl-pds">'</span></span>).<span class="pl-c1">add</span>({
  id<span class="pl-k">:</span> <span class="pl-c1">1</span>,
  name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Turnover<span class="pl-pds">'</span></span>,
  songs<span class="pl-k">:</span> [<span class="pl-c1">1</span>, <span class="pl-c1">2</span>]
});</pre></div>

<h4>
<a id="getquery" class="anchor" href="#getquery" aria-hidden="true"><span class="octicon octicon-link"></span></a>.get(query)</h4>

<p>If <code>query</code> is an ID, returns the corresponding item in the collection. If <code>query</code> is an array of IDs, returns an array of the corresponding items in the collection. If <code>query</code> is a hash, returns an array of all items in the collection with matching keys and values.</p>

<div class="highlight highlight-javascript"><pre>Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).get(<span class="pl-c1">1</span>);
<span class="pl-c">// Song {id: 1, name: "Most Of The Time", artist: 1, relate: Object}</span>
Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).get([<span class="pl-c1">1</span>, <span class="pl-c1">2</span>]);
<span class="pl-c">// [Song {id: 1, name: "Most Of The Time"…}, Song {id: 2, name: "New Scream"…}]</span>
Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).get({ name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>New Scream<span class="pl-pds">'</span></span> });
<span class="pl-c">// [Song {id: 2, name: "New Scream"…}]</span></pre></div>

<h4>
<a id="importitems" class="anchor" href="#importitems" aria-hidden="true"><span class="octicon octicon-link"></span></a>.import(items)</h4>

<p>Takes an array and populates the collection. Each object in the array is used as an item and must have a unique attribute <code>id</code>.</p>

<p><img class="emoji" title=":exclamation:" alt=":exclamation:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2757.png" height="20" width="20" align="absmiddle"> <code>Relate.import</code> will import each arrays of items into collections automatically.</p>

<div class="highlight highlight-javascript"><pre>Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).import([
  {
    id<span class="pl-k">:</span> <span class="pl-c1">1</span>,
    name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Most Of The Time<span class="pl-pds">'</span></span>,
    artist<span class="pl-k">:</span> <span class="pl-c1">1</span>
  },
  {
    id<span class="pl-k">:</span> <span class="pl-c1">2</span>,
    name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>New Scream<span class="pl-pds">'</span></span>,
    artist<span class="pl-k">:</span> <span class="pl-c1">1</span>
  }
]);</pre></div>

<h4>
<a id="keykey" class="anchor" href="#keykey" aria-hidden="true"><span class="octicon octicon-link"></span></a>.key(key)</h4>

<p>Returns the collection name mapped to property <code>key</code>, if it exists, or returns <code>key</code> if it corresponds to an unmapped collection. Otherwise, returns <code>undefined</code>.</p>

<div class="highlight highlight-javascript"><pre>Relate.map.songs <span class="pl-k">=</span> { artist<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>artists<span class="pl-pds">'</span></span> };

Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).key(<span class="pl-s"><span class="pl-pds">'</span>artist<span class="pl-pds">'</span></span>);
<span class="pl-c">// "artists"</span>
Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).key(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>);
<span class="pl-c">// "songs"</span>
Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).key(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>);
<span class="pl-c">// undefined</span></pre></div>

<h4>
<a id="mappedkey" class="anchor" href="#mappedkey" aria-hidden="true"><span class="octicon octicon-link"></span></a>.mapped(key)</h4>

<p>Returns true if a mapping exists in the collection for property <code>key</code>, or false if it does not.</p>

<div class="highlight highlight-javascript"><pre>Relate.map.songs <span class="pl-k">=</span> { artist<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>artists<span class="pl-pds">'</span></span> };

Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).key(<span class="pl-s"><span class="pl-pds">'</span>artist<span class="pl-pds">'</span></span>);
<span class="pl-c">// true</span>
Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).key(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>);
<span class="pl-c">// false</span></pre></div>

<h3>
<a id="item" class="anchor" href="#item" aria-hidden="true"><span class="octicon octicon-link"></span></a>Item</h3>

<h4>
<a id="getkey" class="anchor" href="#getkey" aria-hidden="true"><span class="octicon octicon-link"></span></a>.get(key)</h4>

<p>Given a property <code>key</code> that exists on an item, returns either the related item in the corresponding collection or property's value.</p>

<div class="highlight highlight-javascript"><pre>Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).get(<span class="pl-c1">1</span>).get(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>);
<span class="pl-c">// "Most Of The Time"</span>
Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).get(<span class="pl-c1">1</span>).get(<span class="pl-s"><span class="pl-pds">'</span>artist<span class="pl-pds">'</span></span>);
<span class="pl-c">// Artist {id: 1, name: "Turnover", songs: Array[2], relate: Object}</span></pre></div>

<h4>
<a id="prefix" class="anchor" href="#prefix" aria-hidden="true"><span class="octicon octicon-link"></span></a>.prefix</h4>

<p>A string used as a namespace for <code>Item</code> methods copied to items. Used to prevent conflicts between <code>Item</code> methods and properties that already exist in items.</p>

<div class="highlight highlight-javascript"><pre>Relate.Item.<span class="pl-c1">prefix</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>relate<span class="pl-pds">'</span></span>;

Relate.collection(<span class="pl-s"><span class="pl-pds">'</span>songs<span class="pl-pds">'</span></span>).get(<span class="pl-c1">1</span>).relate.get(<span class="pl-s"><span class="pl-pds">'</span>artist<span class="pl-pds">'</span></span>);
<span class="pl-c">// Artist {id: 1, name: "Turnover", songs: Array[2], relate: Object}</span></pre></div>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/jakelazaroff/relate">Relate</a> is maintained by <a href="https://github.com/jakelazaroff">jakelazaroff</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

